<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Crescent International</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root{--navy:#0b2b5a;--white:#fff;--muted:#ccc;--accent:#111;}
*{box-sizing:border-box}
body{font-family:'Poppins',sans-serif;margin:0;background:#000;color:var(--muted);}
header{background:var(--navy);color:var(--white);padding:28px 16px;text-align:center}
header h1{margin:0;font-size:28px;font-weight:700;}
header p{margin:6px 0 0;font-weight:500;opacity:.95}
nav{display:flex;justify-content:center;gap:14px;padding:12px 8px;background:var(--navy);position:sticky;top:0;z-index:50;border-bottom:1px solid #333;flex-wrap:wrap}
nav a{padding:8px 12px;border-radius:6px;color:#fff;text-decoration:none;font-weight:600}
nav a.active{background:#444;color:#fff}
.nav-toggle{display:none;cursor:pointer;font-size:22px;padding:8px;background:#222;border-radius:6px;margin-left:auto;margin-right:16px;color:#fff}
main{max-width:1100px;margin:22px auto;padding:0 16px}
section{margin:20px 0;padding:18px;background:#111;border-radius:10px;box-shadow:0 6px 18px rgba(12,30,60,0.1)}
.page{display:none}
footer{max-width:1100px;margin:26px auto 60px;padding:8px 16px;color:#666;font-size:14px}
button{padding:6px 12px;border:none;border-radius:6px;background:#0b2b5a;color:#fff;cursor:pointer}
input,select,textarea{padding:6px;border-radius:6px;border:1px solid #333;background:#111;color:#ccc;margin-right:6px}
table{width:100%;border-collapse:collapse;margin-top:12px;color:#ccc}
th,td{padding:10px;border-bottom:1px solid #333;text-align:left}
th{background:#222;color:#fff;font-weight:600}
.flowchart{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px}
.flowchart div{padding:8px 12px;background:#222;border-radius:8px;color:#ccc;flex:1 1 150px;text-align:center}
ul{padding-left:20px}
</style>
</head>
<body>
<header>
  <h1>Crescent International</h1>
  <p>Excellence • Respect • Growth</p>
</header>
<nav id="mainNav">
  <span class="nav-toggle" onclick="toggleNav()">☰ Menu</span>
  <a href="#home" data-page="home" class="active mobile-show">Home</a>
  <a href="#admin" data-page="admin" class="mobile-show">Admin Dashboard</a>
</nav>
<main>
  <!-- Home Page -->
  <section id="home" class="page">
    <h2 style="color:#fff">Facilities</h2>
    <ul id="facilities-list" style="color:#ccc"></ul>
    <h2 style="color:#fff;margin-top:20px">Labs</h2>
    <ul id="labs-list" style="color:#ccc"></ul>
  </section>

  <!-- Admin Dashboard -->
  <section id="admin" class="page">
    <h2 style="color:#fff">Admin Dashboard</h2>

    <!-- Add Student -->
    <h3 style="color:#fff">Add Student</h3>
    <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px;">
      <input placeholder="Name" id="st-name">
      <input placeholder="Roll No" id="st-roll">
      <input placeholder="Class" id="st-class">
      <input placeholder="Parent CNIC" id="st-cnic">
      <input placeholder="B-Form / Smart Card" id="st-bform">
      <input type="date" placeholder="DOB" id="st-dob">
      <input type="date" placeholder="Date of Joining" id="st-join">
      <button onclick="addStudent()">Add</button>
    </div>

    <h3 style="color:#fff">Student List</h3>
    <button onclick="exportCSV()">Export CSV</button>
    <div class="flowchart" id="flowchart"></div>

    <!-- Add Facilities -->
    <h3 style="color:#fff;margin-top:20px">Add Facility</h3>
    <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px;">
      <input placeholder="Facility Name" id="facility-input">
      <button onclick="addFacility()">Add</button>
    </div>

    <!-- Add Labs -->
    <h3 style="color:#fff;margin-top:20px">Add Lab</h3>
    <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px;">
      <input placeholder="Lab Name" id="lab-input">
      <button onclick="addLab()">Add</button>
    </div>
  </section>
</main>
<footer>
  <div style="max-width:1100px;margin:0 auto;padding:10px 16px;color:#666;display:flex;flex-direction:column;gap:6px">
    <div style="display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px">
      <div style="font-weight:600;color:#fff">Crescent International</div>
      <div class="muted">© 2025 Crescent International — All rights reserved</div>
    </div>
  </div>
</footer>

<script>
const pages=document.querySelectorAll('.page');
const navLinks=document.querySelectorAll('nav a[data-page]');
function showPage(name){
  pages.forEach(p=>p.style.display='none');
  document.getElementById(name).style.display='block';
  navLinks.forEach(a=>a.classList.remove('active'));
  const activeLink=document.querySelector('nav a[data-page="'+name+'"]');
  if(activeLink) activeLink.classList.add('active');
  window.scrollTo(0,0);
}
window.addEventListener('hashchange',()=>showPage(location.hash.replace('#','')));
if(!location.hash) location.hash='#home'; else showPage(location.hash.replace('#',''));
function toggleNav(){document.querySelectorAll('nav a').forEach(a=>a.classList.toggle('mobile-show'));}

/* ---------- Local Storage ---------- */
const LS={
  students:'cres_students_v1',
  facilities:'cres_facilities_v1',
  labs:'cres_labs_v1'
};
if(!localStorage.getItem(LS.students)) localStorage.setItem(LS.students,JSON.stringify([]));
if(!localStorage.getItem(LS.facilities)) localStorage.setItem(LS.facilities,JSON.stringify([]));
if(!localStorage.getItem(LS.labs)) localStorage.setItem(LS.labs,JSON.stringify([]));

/* ---------- Students ---------- */
function addStudent(){
  const s={
    name:document.getElementById('st-name').value.trim(),
    roll:document.getElementById('st-roll').value.trim(),
    class:document.getElementById('st-class').value.trim(),
    cnic:document.getElementById('st-cnic').value.trim(),
    bform:document.getElementById('st-bform').value.trim(),
    dob:document.getElementById('st-dob').value,
    join:document.getElementById('st-join').value
  };
  if(!s.name||!s.roll){alert('Name and Roll are required');return;}
  const data=JSON.parse(localStorage.getItem(LS.students)||'[]');
  data.push(s);
  localStorage.setItem(LS.students,JSON.stringify(data));
  renderFlowchart();
  alert('Student added!');
}
function renderFlowchart(){
  const data=JSON.parse(localStorage.getItem(LS.students)||'[]');
  const wrap=document.getElementById('flowchart');
  wrap.innerHTML='';
  data.forEach(s=>{
    const div=document.createElement('div');
    div.textContent=`${s.name} (${s.class})`;
    wrap.appendChild(div);
  });
}
function exportCSV(){
  const data=JSON.parse(localStorage.getItem(LS.students)||'[]');
  if(!data.length){alert('No students to export');return;}
  const header=['Name','Roll','Class','Parent CNIC','B-Form/Smart Card','DOB','Date of Joining'];
  const rows=data.map(s=>[s.name,s.roll,s.class,s.cnic,s.bform,s.dob,s.join].join(','));
  const csv=[header.join(','),...rows].join('\n');
  const blob=new Blob([csv],{type:'text/csv'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');a.href=url;a.download='students.csv';a.click();URL.revokeObjectURL(url);
}

/* ---------- Facilities & Labs ---------- */
function addFacility(){
  const f=document.getElementById('facility-input').value.trim();
  if(!f)return;
  const data=JSON.parse(localStorage.getItem(LS.facilities)||'[]');
  data.push(f);
  localStorage.setItem(LS.facilities,JSON.stringify(data));
  renderFacilities();
}
function addLab(){
  const l=document.getElementById('lab-input').value.trim();
  if(!l)return;
  const data=JSON.parse(localStorage.getItem(LS.labs)||'[]');
  data.push(l);
  localStorage.setItem(LS.labs,JSON.stringify(data));
  renderLabs();
}
function renderFacilities(){
  const data=JSON.parse(localStorage.getItem(LS.facilities)||'[]');
  const ul=document.getElementById('facilities-list');
  ul.innerHTML='';
  data.forEach(f=>{
    const li=document.createElement('li'); li.textContent=f; ul.appendChild(li);
  });
}
function renderLabs(){
  const data=JSON.parse(localStorage.getItem(LS.labs)||'[]');
  const ul=document.getElementById('labs-list');
  ul.innerHTML='';
  data.forEach(l=>{
    const li=document.createElement('li'); li.textContent=l; ul.appendChild(li);
  });
}

/* ---------- Init ---------- */
renderFlowchart();
renderFacilities();
renderLabs();
</script>
</body>
</html>
